<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Scroll Event ìƒì„¸ ì‹¤ìŠµ</title>
    <style>
      body {
        font-family: sans-serif;
        line-height: 1.8;
        margin: 0;
        padding: 0;
        background-color: #f0f2f5;
      }
      .long-content {
        height: 250vh; /* í˜ì´ì§€ ì „ì²´ ìŠ¤í¬ë¡¤ì„ ë§Œë“¤ê¸° ìœ„í•œ ê¸´ ì½˜í…ì¸  */
        padding: 20px;
        text-align: center;
        background: linear-gradient(to bottom, #ffffff, #e0eafc);
      }
      .info-panel {
        position: fixed;
        top: 10px;
        left: 10px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 15px;
        border-radius: 8px;
        z-index: 1000;
        font-size: 16px;
      }
      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        padding: 15px 20px;
        background-color: crimson;
        color: white;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        opacity: 0; /* ê¸°ë³¸ ìˆ¨ê¹€ */
        visibility: hidden; /* ì ‘ê·¼ì„± ìœ„í•´ ì¶”ê°€ */
        transition: opacity 0.3s, visibility 0.3s;
        z-index: 1000;
      }
      .back-to-top.visible {
        opacity: 1;
        visibility: visible;
      }
      .element-scroll-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 20px;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .scrollable-box {
        height: 200px;
        overflow-y: scroll; /* íŠ¹ì • ìš”ì†Œì— ìŠ¤í¬ë¡¤ ìƒì„± */
        border: 2px solid cornflowerblue;
        padding: 10px;
        background-color: #f4f4f4;
      }
    </style>
  </head>
  <body>
    <div class="info-panel">
      <p>
        <strong>Window Scroll (Y):</strong>
        <span id="window-scroll-y">0</span>px
      </p>
      <p>
        <strong>Box Scroll (Top):</strong> <span id="box-scroll-top">0</span>px
      </p>
    </div>

    <div class="long-content">
      <h1>Scroll Event ì‹¤ìŠµ í˜ì´ì§€</h1>
      <p>í˜ì´ì§€ë¥¼ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ ë³€í™”ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>

      <div class="element-scroll-container">
        <h2>íŠ¹ì • ìš”ì†Œ ìŠ¤í¬ë¡¤</h2>
        <div class="scrollable-box" id="scroll-box">
          ì´ ìƒìëŠ” ìì²´ì ì¸ ìŠ¤í¬ë¡¤ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. <br />
          ìŠ¤í¬ë¡¤ì„ ë‚´ë¦¬ë©´ ì™¼ìª½ ìƒë‹¨ íŒ¨ë„ì˜ 'Box Scroll' ê°’ì´ ë³€ê²½ë©ë‹ˆë‹¤.
          <br /><br />
          ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />ë‚´ìš©...<br />
          ì—¬ê¸°ê°€ ìƒìì˜ ëì…ë‹ˆë‹¤.
        </div>
      </div>

      <p>í˜ì´ì§€ í•˜ë‹¨ ì½˜í…ì¸ </p>
    </div>

    <button class="back-to-top" id="top-btn">TOP</button>

    <script>
      /*
    ==================================================================================
    ## 1. ê°œë… ì„¤ëª…: Scroll Eventë€?
    ==================================================================================
    'scroll' ì´ë²¤íŠ¸ëŠ” ì‚¬ìš©ìê°€ ì›¹ í˜ì´ì§€ë‚˜ íŠ¹ì • ìš”ì†Œì˜ **ìŠ¤í¬ë¡¤ ë°”ë¥¼ ì›€ì§ì¼ ë•Œë§ˆë‹¤ ë°œìƒ**í•˜ëŠ” ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.
    ì´ ì´ë²¤íŠ¸ë¥¼ í™œìš©í•˜ë©´ ì‚¬ìš©ìì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ì— ë”°ë¼ ë‹¤ì–‘í•œ ì¸í„°ë™ì…˜ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ğŸ¯ **ì´ë²¤íŠ¸ ëŒ€ìƒ**:
    1.  **`window` ê°ì²´**: í˜ì´ì§€ ì „ì²´ì˜ ìŠ¤í¬ë¡¤ì„ ê°ì§€í•©ë‹ˆë‹¤. ê°€ì¥ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‚¬ë¡€ì…ë‹ˆë‹¤.
        - `window.addEventListener('scroll', ...)`
    2.  **íŠ¹ì • HTML ìš”ì†Œ**: `overflow: scroll` ë˜ëŠ” `overflow: auto` CSS ì†ì„±ì´ ì ìš©ë˜ì–´ ìì²´ ìŠ¤í¬ë¡¤ ë°”ë¥¼ ê°€ì§„ ìš”ì†Œì˜ ìŠ¤í¬ë¡¤ì„ ê°ì§€í•©ë‹ˆë‹¤.
        - `myElement.addEventListener('scroll', ...)`
    ğŸ¢ **ì„±ëŠ¥ ë¬¸ì œ (Performance Consideration)**:
    ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ëŠ” ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤í•˜ëŠ” ë™ì•ˆ **ë§¤ìš° ì§§ì€ ì‹œê°„ ì•ˆì— ìˆ˜ì‹­, ìˆ˜ë°± ë²ˆì”© ì—°ì†ìœ¼ë¡œ ë°œìƒ**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    ë§Œì•½ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì•ˆì— ë³µì¡í•œ ê³„ì‚°ì´ë‚˜ ë¬´ê±°ìš´ DOM ì¡°ì‘ ì½”ë“œê°€ ìˆë‹¤ë©´, ë¸Œë¼ìš°ì €ì— í° ë¶€ë‹´ì„ ì£¼ì–´ í˜ì´ì§€ì˜ ë²„ë²…ì„(Jank)ì´ë‚˜ ì„±ëŠ¥ ì €í•˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
    - **í•´ê²°ì±…**: ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” **ì“°ë¡œí‹€ë§(Throttling)**ì´ë‚˜ **ë””ë°”ìš´ì‹±(Debouncing)** ê°™ì€ ê¸°ë²•ì„ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ í˜¸ì¶œ ë¹ˆë„ë¥¼ ì œì–´í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤.
      - **Throttling**: ì´ë²¤íŠ¸ë¥¼ ì¼ì • ì‹œê°„(ì˜ˆ: 100ms)ì— í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ ì¡°ì ˆí•©ë‹ˆë‹¤.
      - **Debouncing**: ì´ë²¤íŠ¸ê°€ ë©ˆì¶˜ í›„ ì¼ì • ì‹œê°„(ì˜ˆ: 100ms)ì´ ì§€ë‚˜ë©´ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ë„ë¡ í•©ë‹ˆë‹¤.
    */

      /*
    ==================================================================================
    ## 2. ì£¼ìš” ì†ì„± ë° ë©”ì„œë“œ ì„¤ëª…
    ==================================================================================
    ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì½ê³ , íŠ¹ì • ìœ„ì¹˜ë¡œ ìŠ¤í¬ë¡¤ì„ ì´ë™ì‹œí‚¤ëŠ” ë‹¤ì–‘í•œ ì†ì„±ê³¼ ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.
    --- ğŸ“ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì½ê¸° (Read Scroll Position) ---
    - **`window.scrollY`**: **í˜ì´ì§€ ì „ì²´**ê°€ ìˆ˜ì§ìœ¼ë¡œ ì–¼ë§ˆë‚˜ ìŠ¤í¬ë¡¤ë˜ì—ˆëŠ”ì§€ë¥¼ í”½ì…€(px) ë‹¨ìœ„ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. í˜ì´ì§€ ìµœìƒë‹¨ì€ `0`ì…ë‹ˆë‹¤. (`window.pageYOffset`ì€ ì˜¤ë˜ëœ ì´ë¦„ì´ë©°, `scrollY`ì™€ ë™ì¼í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤.)
    - **`element.scrollTop`**: **íŠ¹ì • ìš”ì†Œ ë‚´ë¶€**ì—ì„œ ë‚´ìš©ì´ ìˆ˜ì§ìœ¼ë¡œ ì–¼ë§ˆë‚˜ ìŠ¤í¬ë¡¤ë˜ì—ˆëŠ”ì§€ë¥¼ í”½ì…€ ë‹¨ìœ„ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. ìš”ì†Œì˜ ìŠ¤í¬ë¡¤ ë°”ê°€ ìµœìƒë‹¨ì— ìˆìœ¼ë©´ `0`ì…ë‹ˆë‹¤.
    
    (ìˆ˜í‰ ìŠ¤í¬ë¡¤ì˜ ê²½ìš° `window.scrollX`ì™€ `element.scrollLeft`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.)
    --- ğŸš€ ìŠ¤í¬ë¡¤ ì´ë™í•˜ê¸° (Programmatic Scrolling) ---
    - **`window.scrollTo(x, y)`**: í˜ì´ì§€ë¥¼ ì§€ì •ëœ (x, y) ì¢Œí‘œë¡œ ì¦‰ì‹œ ì´ë™ì‹œí‚µë‹ˆë‹¤.
    - **`window.scrollTo(options)`**: ì˜µì…˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë” ì„¸ë°€í•˜ê²Œ ìŠ¤í¬ë¡¤ì„ ì œì–´í•©ë‹ˆë‹¤. (ê¶Œì¥ ë°©ì‹)
        - **`top`**: ì´ë™í•  Yì¶• ì¢Œí‘œ (ìˆ˜ì§ ìœ„ì¹˜). `window.scrollY`ì™€ ê´€ë ¨ë©ë‹ˆë‹¤.
        - **`left`**: ì´ë™í•  Xì¶• ì¢Œí‘œ (ìˆ˜í‰ ìœ„ì¹˜). `window.scrollX`ì™€ ê´€ë ¨ë©ë‹ˆë‹¤.
        - **`behavior`**: ìŠ¤í¬ë¡¤ ì´ë™ ë°©ì‹ì„ ì§€ì •í•©ë‹ˆë‹¤.
            - `'smooth'`: ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ë©ë‹ˆë‹¤. (ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼)
            - `'instant'`: ì¦‰ì‹œ ì´ë™í•©ë‹ˆë‹¤.
            - `'auto'`: ê¸°ë³¸ê°’. ì¼ë°˜ì ìœ¼ë¡œ `'instant'`ì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤.
    - **`element.scrollTop = value`**: íŠ¹ì • ìš”ì†Œì˜ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    */

      /*
    ==================================================================================
    ## 3. ì‹¤ì œ ì‹¤ìŠµ (Interactive Example)
    ==================================================================================
    */

      // --- 1. ì‹¤ìŠµì— í•„ìš”í•œ HTML ìš”ì†Œë“¤ì„ ë¯¸ë¦¬ ì°¾ì•„ ë³€ìˆ˜ì— í• ë‹¹í•©ë‹ˆë‹¤. ---
      const windowScrollYDisplay = document.getElementById("window-scroll-y");
      const boxScrollTopDisplay = document.getElementById("box-scroll-top");
      const topBtn = document.getElementById("top-btn");
      const scrollBox = document.getElementById("scroll-box");

      // --- 2. `window` ê°ì²´ì— ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤. (í˜ì´ì§€ ì „ì²´ ìŠ¤í¬ë¡¤ ê°ì§€) ---
      window.addEventListener("scroll", () => {
        const currentScrollY = window.scrollY;
        windowScrollYDisplay.textContent = Math.round(currentScrollY);

        // 300px -> TOP
        if (currentScrollY > 300) {
          topBtn.classList.add("visible");
        } else {
          topBtn.classList.remove("visible");
        }
      });

      // --- 3. íŠ¹ì • ìš”ì†Œ(`scrollBox`)ì— ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤. ---
      scrollBox.addEventListener("scroll", () => {
        const currentScrollTop = scrollBox.scrollTop;
        boxScrollTopDisplay.textContent = Math.round(currentScrollTop);
      });

      // --- 4. 'TOP' ë²„íŠ¼ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤. ---
      topBtn.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });
    </script>
  </body>
</html>
